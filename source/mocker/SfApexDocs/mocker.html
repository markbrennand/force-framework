<html><head><title>null - Mocker</title><script type='text/javascript' src='jquery-latest.js'></script><link rel='stylesheet' type='text/css' href='SfApexDoc.css' /> <script type='text/javascript' src='sh_java.min.js'></script><script type='text/javascript' src='sh_main.min.js'></script><link rel='stylesheet' type='text/css' href='sh.min.css' /> <script>$(document).ready(function() {$('.toggle_container').hide();
$('h2.trigger').click(function() {
$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);return false; });});
function ToggleBtnLabel(ctrl) {ctrl.value = (ctrl.value=='+' ? '-' : '+');}
function IsExpanded(ctrl) {return (ctrl.value == '-');}
function ToggleAll(e) {var cExpanded = 0;$('h2.trigger', $(e).closest('.class-model')).each(function() {if (!IsExpanded(this.firstChild)) {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);cExpanded++;}});if (cExpanded == 0) {$('h2.trigger', $(e).closest('.class-model')).each(function() {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);});}}
</script></head><body onload='sh_highlightDocument();'><div class='header'><table cellpadding='0' cellspacing='0'><tr><td><img id='logo' src='logo.png'/></td><td><h2>Force-Frameworks</h2>Mark Brennand<br/></td></tr></table></div><div class='container'><div class='leftmenus'><ul><li><a href='index.html'>Home</a></li><li><a href='mocker.html'>Mocker</a></li></ul></div><div class='page'><div class='class-model'><h2 class='section-title'>Mocker<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing virtual class <a href='mocker.html'>Mocker</a> extends Chainable</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Classes providing the <a href='mocker.html'>Mocker</a> API. <br><br> Rather than defining fixed lists of functions and arguments to be mocked, this solution defines the arguments first and then list all the methods that expect those arguments from the class or interface being mocked. <br><br> Arguments are checked for matches using comparators. A default set of comparators are provided. Custom comparators may be added for arguments to be matched. <br><br> The default comparator for a custom object or collection of custom objects requires that only the fields set in the object to be matched are set identically in the custom object(s) passed to the mocked method call. <br><br> The Modifier interface may be used to return a value from a mocked method based on the arguments to the call. For example, this could be used to add a fake <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Id</a> to custom objects being inserted. <br><br> See <a href=../README.md target=&#34;_blank&#34;>README</a> for full details of the <a href='mocker.html'>Mocker</a> API.</td></tr><tr><th>Author</th><td>Mark Brennand</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>of</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static <a href='mocker.html'>Mocker</a> of(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> forType)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates a new <a href='mocker.html'>Mocker</a> that may be used to define a mocking scenario.</td></tr><tr><th>Parameter</th><td><b>forType:</b> The class to be mocked. </td></tr><tr><th>Returns</th><td>A <a href='mocker.html'>Mocker</a> which may be used to define a mocking scenario.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>validate</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static void validate()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Validates that all the methods in the mocked objects have been called the required number of times. <br><br> If a method has not been called the correct number of times, an Assertion.AssertionException is thrown. <br><br> If the method has not set a called count value, it is not validated.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>Mocker.Chainable<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing virtual class Chainable</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Argument setting class. <br><br> It is designed to be callable from both the <a href='mocker.html'>Mocker</a>, Arguments and Method classes. This is so all three can perform chaining of calls.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>mock</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global Object mock()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Gets the mocked object for the class being mocked.</td></tr><tr><th>Returns</th><td>The mocked object.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArgument</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenArgument(final Object argument)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has a single argument. <br><br> This would represent a mocked method which has one parameter.</td></tr><tr><th>Parameter</th><td><b>argument:</b> The expected parameter value. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenArguments(final Object argument1, final Object argument2)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has two arguments. <br><br> This would represent a mocked method which has two parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenArguments(final Object argument1, final Object argument2, final Object argument3)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has three arguments. <br><br> This would represent a mocked method which has three parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenArguments(final Object argument1, final Object argument2, final Object argument3, final Object argument4)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has four arguments. <br><br> This would represent a mocked method which has four parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Parameter</th><td><b>argument4:</b> The expected value of the fourth parameter. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenArguments(final Object argument1, final Object argument2, final Object argument3, final Object argument4, final Object argument5)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has five arguments. <br><br> This would represent a mocked method which has five parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Parameter</th><td><b>argument4:</b> The expected value of the fourth parameter. </td></tr><tr><th>Parameter</th><td><b>argument5:</b> The expected value of the fifth parameter. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenListOfArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenListOfArguments(final List&#60;Object&#62; expectedArguments)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has the given arguments.</td></tr><tr><th>Parameter</th><td><b>expectedArguments:</b> The arguments to be matched. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenNoArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> whenNoArguments()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates an argument grouping which has no values. <br><br> This would represent a method with no arguments.</td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>Mocker.Modifier<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global interface Modifier</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>An implementation of the Modifier interface can be added as argument to Method.returns to make changes to the method arguments when a match for the arguments is found and the registered method is called. <br><br> An example use case for this would be to add an <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Id</a> to objects inserted through a call to a mocked method.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>process</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>Object process(List&#60;Object&#62; arguments)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Called to make changes to the return value using the arguments passed into the Method.</td></tr><tr><th>Parameter</th><td><b>arguments:</b> The arguments passed to the Method. </td></tr><tr><th>Returns</th><td>The return value.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>Mocker.Method<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing class Method extends Chainable</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Method definition associated with an Argument.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>called</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Method</a> called(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Integer</a> expectedCount)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Sets the number of times the mocked object is expected to be called. <br><br> The check is performed when the Mocker.validate method is called.</td></tr><tr><th>Parameter</th><td><b>expectedCount:</b> The number of times the method is expected to be called. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>expectMethod</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Method</a> expectMethod(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>String</a> methodName)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Registers a new method for the parent's arguments. <br><br> The method will be called when the arguments are matched.</td></tr><tr><th>Parameter</th><td><b>methodName:</b> The name of the method expected. </td></tr><tr><th>Returns</th><td>The mew method instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>returns</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Method</a> returns(final Object returnValue)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Sets the return value from the method if the arguments are matched and it is called. <br><br> The return value may be set to an instance of Modifier to return a value based on the arguments passed to the mocked method call.</td></tr><tr><th>Parameter</th><td><b>returnValue:</b> The value to be returned if the arguments are matched and this method is called. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>throws</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Method</a> throws(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm'>Exception</a> throws)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Sets the Execption to be thrown from the method if the arguments are matched and it is called.</td></tr><tr><th>Parameter</th><td><b>throws:</b> The <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm'>Exception</a> to throw if the arguments are matched and this method is called. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>Mocker.Arguments<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing class Arguments extends Chainable</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Class representing a list of arguments for which mocked methods are to be registered.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>expectMethod</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Method</a> expectMethod(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>String</a> methodName)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Registers a new method for the expected arguments. <br><br> The method will be called when the arguments are matched.</td></tr><tr><th>Parameter</th><td><b>methodName:</b> The name of the method expected. </td></tr><tr><th>Returns</th><td>The method instance so it can be chained.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>withComparators</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mocker.html'>Mocker.Arguments</a> withComparators(final List&#60;Comparator<Object>> comparators)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Adds comparators to the default comparatros used when checking the arguments for equivalence. <br><br> Any additional comparators will be called before the default ones.</td></tr><tr><th>Parameter</th><td><b>comparators:</b> The additional comparators to be used when checking the expected arguments for equivalence. </td></tr><tr><th>Returns</th><td>The object instance so it can be chained.</td></tr></table></div></div></div></div><div id='footer'><center><a href='https://lucidwaresolutions.com/sfapexdoc'>Powered By SfApexDoc v1.4, from Lucidware Solutions</a></center></div></body></html>