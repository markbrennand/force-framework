<html><head><title> Force-Framework - MockerV1</title><script type='text/javascript' src='jquery-latest.js'></script><link rel='stylesheet' type='text/css' href='SfApexDoc.css' /> <script type='text/javascript' src='sh_java.min.js'></script><script type='text/javascript' src='sh_main.min.js'></script><link rel='stylesheet' type='text/css' href='sh.min.css' /> <script>$(document).ready(function() {$('.toggle_container').hide();
$('h2.trigger').click(function() {
$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);return false; });});
function ToggleBtnLabel(ctrl) {ctrl.value = (ctrl.value=='+' ? '-' : '+');}
function IsExpanded(ctrl) {return (ctrl.value == '-');}
function ToggleAll(e) {var cExpanded = 0;$('h2.trigger', $(e).closest('.class-model')).each(function() {if (!IsExpanded(this.firstChild)) {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);cExpanded++;}});if (cExpanded == 0) {$('h2.trigger', $(e).closest('.class-model')).each(function() {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);});}}
</script></head><body onload='sh_highlightDocument();'><div class='header'><table cellpadding='0' cellspacing='0'><tr><td><img id='logo' src='logo.png'/></td><td><h2>Force-Framework</h2>Mark Brennand<br/></td></tr></table></div><div class='container'><div class='leftmenus'><ul><li><a href='index.html'>Home</a></li><li><a href='arrayv1.html'>ArrayV1</a></li><li><a href='assertionv1.html'>AssertionV1</a></li><li><a href='asynchronousv1.html'>AsynchronousV1</a></li><li><a href='dependencyv1.html'>DependencyV1</a></li><li><a href='forcefwexception.html'>ForceFwException</a></li><li><a href='immutablev1.html'>ImmutableV1</a></li><li><a href='mockerv1.html'>MockerV1</a></li><li><a href='optionalv1.html'>OptionalV1</a></li><li><a href='queryv1.html'>QueryV1</a></li><li><a href='triggerv1.html'>TriggerV1</a></li><li><a href='typesv1.html'>TypesV1</a></li></ul></div><div class='page'><div class='class-model'><h2 class='section-title'>MockerV1<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing virtual class <a href='mockerv1.html'>MockerV1</a> extends <a href='mockerv1.html'>MockerV1.Chainable</a></div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Classes providing the Mocker API. <p/> Rather than defining fixed lists of functions and arguments to be mocked, this solution defines the arguments first and then list all the methods that expect those arguments from the class or interface being mocked. <p/> Arguments are checked for matches using comparators. A default set of comparators are provided. Custom comparators may be added for arguments to be matched. <p/> The default comparator for a custom object or collection of custom objects requires that only the fields set in the object to be matched are set identically in the custom object(s) passed to the mocked method call. <p/> The Modifier interface may be used to return a value from a mocked method based on the arguments to the call. For example, this could be used to add a fake <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Id</a> to custom objects being inserted. <p/> See <a href=../../source/mocker/README.md target=&#34;_blank&#34;>README</a> for full details of the Mocker API. <p/> Copyright (c) 2025 Mark Brennand, released under <a href=../../LICENSE target=&#34;_blank&#34;>MIT License</a>.</td></tr><tr><th>Author</th><td>Mark Brennand</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>any</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static Object any(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> type)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Returns an argument which can be used in a whenArgument call to represent a method parameter which must be of the given <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> but whose value is not checked. <p/> The parameter may be null if the types match.</td></tr><tr><th>Parameter</th><td><b>type:</b> The <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> the argument is for. </td></tr><tr><th>Returns</th><td>The argument.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>anyNonNull</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static Object anyNonNull(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> type)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Returns an argument which can be used in a whenArgument call to represent a method parameter which must be of the given <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> but whose value is not checked. <p/> The parameter must be non null if the types match.</td></tr><tr><th>Parameter</th><td><b>type:</b> The <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> the argument is for. </td></tr><tr><th>Returns</th><td>The argument.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>fakeId</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>String</a> fakeId(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_class_Schema_SObjectType.htm'>SObjectType</a> objectType)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Generates a fake id for the given object type.</td></tr><tr><th>Parameter</th><td><b>objectType:</b> The object type to have a fake <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Id</a> generated for. </td></tr><tr><th>Returns</th><td>The fake id.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>of</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static <a href='mockerv1.html'>MockerV1</a> of(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_type.htm'>Type</a> forType)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates a new Mocker that may be used to define a mocking scenario.</td></tr><tr><th>Parameter</th><td><b>forType:</b> The class to be mocked. </td></tr><tr><th>Returns</th><td>A Mocker which may be used to define a mocking scenario.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>of</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static <a href='mockerv1.html'>MockerV1</a> of(final Factory factory)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates a new Mocker that may be used to define a mocking scenario. <p/> The Factory argument will be called to create the stubbed object.</td></tr><tr><th>Parameter</th><td><b>factory:</b> Factory that will create the stubbed object. </td></tr><tr><th>Returns</th><td>A Mocker which may be used to define a mocking scenario.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>validate</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global static void validate()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Validates that all the methods in the mocked objects have been called the required number of times. <p/> If a method has not been called the correct number of times, an Assertion.AssertionException is thrown. <p/> If the method has not set a called count value, it is not validated.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>MockerV1.Factory<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global interface Factory</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Interface allowing a user of the Mocker.of method to be called back to create the stubbed object. <p/> As stubbed objects cannot be created by the Mocker if they are in a different namespace, this interface can be used to create the stubbed object in the caller's namespace.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>stub</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>Object stub(final StubProvider provider)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an instance of a stubbed object. <p/> The implementation will be responsible for deciding the class of the object to stub.</td></tr><tr><th>Parameter</th><td><b>provider:</b> The provider to use for the new stubbed object. </td></tr><tr><th>Returns</th><td>The stubbed object.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>MockerV1.Modifier<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global interface Modifier</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> An implementation of the Modifier interface can be added as argument to Method.returns to make changes to the method arguments when a match for the arguments is found and the registered method is called. <p/> An example use case for this would be to add an <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Id</a> to objects inserted through a call to a mocked method.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>process</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>Object process(final List&#60;Object&#62; arguments)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Called to make changes to the return value using the arguments passed into the Method.</td></tr><tr><th>Parameter</th><td><b>arguments:</b> The arguments passed to the Method. </td></tr><tr><th>Returns</th><td>The return value.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>MockerV1.Chainable<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing virtual class Chainable</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Argument setting class. <p/> It is designed to be callable from both the Mocker, Arguments and Method classes. This is so all three can perform chaining of calls.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>mock</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global Object mock()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Gets the mocked object for the class being mocked.</td></tr><tr><th>Returns</th><td>The mocked object.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArgument</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenArgument(final Object argument)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has a single argument. <p/> This would represent a mocked method which has one parameter.</td></tr><tr><th>Parameter</th><td><b>argument:</b> The expected parameter value. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenArguments(final Object argument1, final Object argument2)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has two arguments. <p/> This would represent a mocked method which has two parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenArguments(final Object argument1, final Object argument2, final Object argument3)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has three arguments. <p/> This would represent a mocked method which has three parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenArguments( final Object argument1, final Object argument2, final Object argument3, final Object argument4 )</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has four arguments. <p/> This would represent a mocked method which has four parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Parameter</th><td><b>argument4:</b> The expected value of the fourth parameter. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenArguments( final Object argument1, final Object argument2, final Object argument3, final Object argument4, final Object argument5 )</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has five arguments. <p/> This would represent a mocked method which has five parameters.</td></tr><tr><th>Parameter</th><td><b>argument1:</b> The expected value of the first parameter. </td></tr><tr><th>Parameter</th><td><b>argument2:</b> The expected value of the second parameter. </td></tr><tr><th>Parameter</th><td><b>argument3:</b> The expected value of the third parameter. </td></tr><tr><th>Parameter</th><td><b>argument4:</b> The expected value of the fourth parameter. </td></tr><tr><th>Parameter</th><td><b>argument5:</b> The expected value of the fifth parameter. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenListOfArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenListOfArguments(final List&#60;Object&#62; expectedArguments)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has the given arguments.</td></tr><tr><th>Parameter</th><td><b>expectedArguments:</b> The arguments to be matched. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>whenNoArguments</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> whenNoArguments()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Creates an argument grouping which has no values. <p/> This would represent a method with no arguments.</td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>MockerV1.Method<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing class Method extends <a href='mockerv1.html'>MockerV1.Chainable</a></div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Method definition associated with an Argument.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>called</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Method</a> called(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Integer</a> expectedCount)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Sets the number of times the mocked object is expected to be called. <p/> The check is performed when the Mocker.validate method is called.</td></tr><tr><th>Parameter</th><td><b>expectedCount:</b> The number of times the method is expected to be called. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>forMethod</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Method</a> forMethod(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>String</a> methodName)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Registers a new method for the parent's arguments. <p/> The method will be called when the arguments are matched.</td></tr><tr><th>Parameter</th><td><b>methodName:</b> The name of the method expected. </td></tr><tr><th>Returns</th><td>The mew method instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>returns</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Method</a> returns(final Object returnValue)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Sets the return value from the method if the arguments are matched and it is called. <p/> The return value may be set to an instance of Modifier to return a value based on the arguments passed to the mocked method call.</td></tr><tr><th>Parameter</th><td><b>returnValue:</b> The value to be returned if the arguments are matched and this method is called. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>throws</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Method</a> throws(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm'>Exception</a> throws)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Sets the <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm'>Exception</a> to be thrown from the method if the arguments are matched and it is called.</td></tr><tr><th>Parameter</th><td><b>throws:</b> The <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm'>Exception</a> to throw if the arguments are matched and this method is called. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>MockerV1.Arguments<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global with sharing class Arguments extends <a href='mockerv1.html'>MockerV1.Chainable</a></div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Class representing a list of arguments for which mocked methods are to be registered.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>forMethod</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Method</a> forMethod(final <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>String</a> methodName)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Registers a new method for the expected arguments. <p/> The method will be called when the arguments are matched.</td></tr><tr><th>Parameter</th><td><b>methodName:</b> The name of the method expected. </td></tr><tr><th>Returns</th><td>The method instance for method chaining.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>withComparators</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='mockerv1.html'>MockerV1.Arguments</a> withComparators(final List&#60;Comparator<Object>> comparators)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td><p/> Adds comparators to the default comparators used when checking the arguments for equivalence. <p/> Any additional comparators will be called before the default ones.</td></tr><tr><th>Parameter</th><td><b>comparators:</b> The additional comparators to be used when checking the expected arguments for equivalence. </td></tr><tr><th>Returns</th><td>The object instance for method chaining.</td></tr></table></div></div></div></div><div id='footer'><center><a href='https://lucidwaresolutions.com/sfapexdoc'>Powered By SfApexDoc v1.4, from Lucidware Solutions</a></center></div></body></html>